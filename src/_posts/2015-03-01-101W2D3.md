---
layout: post
title: W2D3
categories: [101-CSS-Animation]
---

# 101W2D3 Timing functions

# Timing functions

The timing function is a description of the rate at which the speed of the transition changes. For example you might want the animation to begin slowly, and speed up. This would be `ease-in`. Alternately, `ease-out` would start fast and slow down toward the end of the transition.

[TODO: Image of onion skinned circles transitioning with speed changes]

The values `ease-in` and others are shorthand for various `cubic-bezier` curves. If you were to describe the `ease-in` transition timing on a graph, where the speed of the transition is shown by the steepness of the line, it would look something like this:

[TODO: Image of the ease-in graph]

As marked, the beginning is the bottom left and the finish point is the top right. The X-axis is time and the Y-axis is the progress of the transition. In this case, the transition begins slowly and speeds up the rate of progression over time.

Understanding how to construct cubic-bezier curves can make for some interesting effects that really bring a lifelike feeling to your transitions. We will make use of them later.

A complete list of transition timing function shorthands include:

#### Linear

A linear transition moves at a consistent steady rate from beginning to end. Since there's no curve in the transition, it never accelerates or decelerates. This can be useful if making animations that need a steady movement, like the scenery moving past the background of a train window or a steadily rotating moon.

#### Ease-in

The ease-in timing function begins slowly and accelerates toward the end of the transition. This gives it a little more of a lifelike feel, but is still a little sterile. It would be similar to a ball beginning to roll down a hill, finishing at the fastest speed at the bottom.

#### Ease-out

Ease-out is the opposite of ease-in. It starts fast and slows down toward the end of the transition.

#### Ease / Ease-in-out

The ease and ease-in-out functions are similar and are a combination of the ease-in and ease-out functions. It begins slowly, accelerates through the middle part of the transition, then slows toward the end. It could illustrate a car starting from a standstill, accelerating, then slowing down before stopping.

#### Cubic-bezier

The cubic bezier function is the raw form of each of the previous functions. It is made up of 4 values, representing two co-ordinates. A cubic-bezier can look like this:

    transition-timing-function: cubic-bezier(0.5, 0.94, 0.97, 0.09);

The two co-ordinates here are (0.5, 0.94) and (0.97, 0.09). On a graph, they look like this:

[Image of these points highlighted]

When generating the curve, these two co-ordinates act as targets and the curves itself tries to find the most efficient path between them. In this case, the transition begins quite fast, slows down through the middle and then suddenly speeds up toward the end. If you wanted to animate a character moving into a scene, dawdling in the middle then suddenly rushing to the other side, this might be a way to do it.

These really get fun when using values greater than 1. It's possible to create transitions that overshoot, and bounce back. We'll look into how these can be useful later.

Generating cubic-bezier curves can be tricky. I often use [Cubic-Bezier.com](http://cubic-bezier.com/) to help generate the curves visually.

#### Steps

Where most of the timing functions involve curves, the steps function divides the transition into a set of steps and jumps between each. For example, if you specify `steps(10)` the transition divides the duration into 10 discrete jumps.

This is useful for sprite animation. For example, a loading spinner or animated video game character. By setting the background position at the beginning of a series of frames, the steps timing function can then be used to jump through each frame and create the effect.

You can also specify whether the transition holds the first frame for the fragment of the duration or whether it holds the final frame. The default is `end`, as this assumes that the first frame in the sprite is already showing before the animation begins.

The following illustration shows the differences:

[TODO: Image of the (2) graphs, steps, steps start and steps/ steps-end 

We can specify which applies when setting the steps:

    transition: all 2s steps(10, start);
    transition: all 2s steps(10, end);


### Multiple transitions

Sometimes we may want more than one transition to apply. Using multiple transitions you could, for example, have a button's background color change opacity while the button moves position. Both these transitions might need their own duration, delay or timing function. To handle these situations we can stack transitions using commas.

    transition: background 0.2s ease, transform 0.5s ease-out;

Using multiple combined transitions in this way can make for more complex transitions. It's possible to write these in long form also:

    transition-property: background, transform;
    transition-duration: 0.2s, 0.5s;
    transition-timing-function: ease, ease-out;

### Not all properties apply

There are properties that cannot be animated. Font-styles, for example or background gradients. These properties cannot be animated as each state doesn't have 'in-between' stages to go through. You can't be half-way between Helvetica and Times New Roman.

When it comes to background gradients, the same issue appears. Since the browser generates a background image as a static image (similar to a JPEG or PNG file), it can't animate between different versions of the generated gradient. You *can* animate the background position, which can make for some interesting effects.

## Using with keyframe animations

It's worth noting that when you specify a timing function for an animation, the timing function applies to *each keyframe* of the animation.

This means that if you were to specify four keyframes, the timing function would apply to each. An ease-out function would slow down as it approached each keyframe.

For that reason we would usually define the timing function for animations as linear, and control the pacing on a per-keyframe basis:

    @keyframes my-animation {
      0%   {
      ...
      animation-timing-function: linear;
      }
      50% {
      ...
      animation-timing-function: ease-out;
      }
    }

In this case the first half of the animation will be linear, and the second half would use the `ease-out`.

### Browser compatibility

Across current browsers support for transitions is very good. In most cases the non-prefixed version can be used. For older browsers it is worth adding the `webkit` and `moz` prefixes.

See [CanIUse.com](http://caniuse.com/#feat=css-transitions) for more information.

In situations where transitions are not supported, the start and end states will still work but not be animated. This may be suitable in some cases, but we could use [Modernizr](http://modernizr.com/) to present an alternative design.

## What we learned

In this chapter we've covered ... [TODO]

## Further reading

It's worth taking a look at [Easings.net](http://easings.net/). It goes through a wide range of options that include some JavaScript-based transitions, and goes further than those built into CSS.


{% include email-signoff.html %}
